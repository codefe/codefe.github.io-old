{"sta":1,"data":{"subTitle":"自检API(Introspection API)","content":"<h3>自检API</h3><p>Stylus支持自我检测的API, 这允许混写以及函数反应调用者的相关性。</p><h3>混写(mixin)</h3><p><code>mixin</code>这个局部变量在函数体内自动赋值。如果调用的函数在根级别，则<code>mixin</code>包含字符串<code>root</code>, 如果其他情况，则是<code>block</code>, 如果调用函数有返回值，最终为<code>false</code>.</p><p>下面这个例子中，我们定义<code>reset()</code>, 根据其是混入了根部，还是混入块状域，还是混入返回值中，来修改其值，并作为<code>foo</code>属性的值呈现：</p><pre><code>reset()\n  if mixin == 'root'\n    got\n      root true\n  else if mixin\n    got 'a mixin'\n  else\n    'not a mixin'\n\nreset()\n\nbody\n  reset()\n  foo reset()</code></pre><p>编译为：</p><p><!--StartFragment--><!--EndFragment--></p><pre><code>got {\n  root: true;\n}\nbody {\n  foo: \"not a mixin\";\n  got: \"a mixin\";\n}</code></pre>"}}