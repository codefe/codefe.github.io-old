{"sta":1,"data":{"subTitle":"基本用法","content":"<p>电池对象是存放在<code>window.navigator.battery</code>里，但因为这是火狐浏览器首次实现并提供这个接口，并未普及，你需要使用<code>window.navigator.mozBattery</code>这种写法。这个<code>mozBattery</code>对象有下列属性：</p><ul><li><code>charging:<span>&nbsp;</span></code>表示当前电池设备是否在充电。如果电池没有充电，这个值为false。如果为true，表明电池正在充电。当前的API实现里不能得到是否充满的信息，也无法判断当前设备是否有电池。</li><li><code>chargingTime:<span>&nbsp;</span></code>是指距离电池充满还需要多久。</li><li><code>dischargingTime: 电池已使用时间</code>。</li><li><code>level:<span>&nbsp;</span></code>表示电量等级，从0到1.0。当这个值为0时，表示电量耗尽，系统即将关机。如果为1.0，则表示电池满电。</li></ul><p></p><p>针对这些状态，接口里提供了各自相应的事件，包括<code>onchargingchange</code>,<span>&nbsp;</span><code>onchargingtimechange</code>,<span>&nbsp;</span><code>ondischargingtimechange</code>, 和<span>&nbsp;</span><code>onlevelchange</code>。基本的用法很简单：</p><pre><code>// 获取电池对象!\nvar battery = navigator.battery || navigator.webkitBattery || navigator.mozBattery;\n\n// 显示一些有用属性值\nconsole.warn(\"电池充电状态: \", battery.charging); // true\nconsole.warn(\"电量水平: \", battery.level); // 0.58\nconsole.warn(\"电池使用时间: \", battery.dischargingTime);\n\n// 设置一些事件监听器\nbattery.addEventListener(\"chargingchange\", function(e) {\n\tconsole.warn(\"电池充电状态变化: \", battery.charging);\n}, false);\nbattery.addEventListener(\"chargingtimechange\", function(e) {\n\tconsole.warn(\"电池充电时间变化: \", battery.chargingTime);\n}, false);\nbattery.addEventListener(\"dischargingtimechange\", function(e) {\n\tconsole.warn(\"电池使用时间变化: \", battery.dischargingTime);\n}, false);\nbattery.addEventListener(\"levelchange\", function(e) {\n\tconsole.warn(\"电量水平变化: \", battery.level);\n}, false);</code></pre><p><br></p>"}}