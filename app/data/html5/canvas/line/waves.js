function SiriWave(a){a=a||{},this.phase=0,this.run=!1,this.ratio=a.ratio||window.devicePixelRatio||1,this.width=this.ratio*(a.width||320),this.width_2=this.width/2,this.width_4=this.width/4,this.height=this.ratio*(a.height||100),this.height_2=this.height/2,this.MAX=this.height_2-4,this.amplitude=a.amplitude||1,this.speed=a.speed||.2,this.frequency=a.frequency||6,this.color=function(a){var c,b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;return a=a.replace(b,function(a,b,c,d){return b+b+c+c+d+d}),c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a),c?parseInt(c[1],16).toString()+","+parseInt(c[2],16).toString()+","+parseInt(c[3],16).toString():null}(a.color||"#fff")||"255,255,255",this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=this.width/this.ratio+"px",this.canvas.style.height=this.height/this.ratio+"px",this.container=a.container||document.body,this.container.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),a.autostart&&this.start()}function SiriWave9Curve(a){a=a||{},this.controller=a.controller,this.color=a.color,this.tick=0,this.respawn()}function SiriWave9(a){var b,c,d;for(a=a||{},this.tick=0,this.run=!1,this.ratio=a.ratio||window.devicePixelRatio||1,this.width=this.ratio*(a.width||320),this.height=this.ratio*(a.height||100),this.MAX=this.height/2,this.speed=.1,this.amplitude=a.amplitude||1,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=this.width/this.ratio+"px",this.canvas.style.height=this.height/this.ratio+"px",this.container=a.container||document.body,this.container.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.curves=[],b=0;b<SiriWave9.prototype.COLORS.length;b++)for(c=SiriWave9.prototype.COLORS[b],d=0;0|d<3*Math.random();d++)this.curves.push(new SiriWave9Curve({controller:this,color:c}));a.autostart&&this.start()}SiriWave.prototype._GATF_cache={},SiriWave.prototype._globAttFunc=function(a){return null==SiriWave.prototype._GATF_cache[a]&&(SiriWave.prototype._GATF_cache[a]=Math.pow(4/(4+Math.pow(a,4)),2)),SiriWave.prototype._GATF_cache[a]},SiriWave.prototype._xpos=function(a){return this.width_2+a*this.width_4},SiriWave.prototype._ypos=function(a,b){var c=this.MAX*this.amplitude/b;return this.height_2+this._globAttFunc(a)*c*Math.sin(this.frequency*a-this.phase)},SiriWave.prototype._drawLine=function(a,b,c){this.ctx.moveTo(0,0),this.ctx.beginPath(),this.ctx.strokeStyle=b,this.ctx.lineWidth=c||1;for(var d=-2;(d+=.01)<=2;)this.ctx.lineTo(this._xpos(d),this._ypos(d,a));this.ctx.stroke()},SiriWave.prototype._clear=function(){this.ctx.globalCompositeOperation="destination-out",this.ctx.fillRect(0,0,this.width,this.height),this.ctx.globalCompositeOperation="source-over"},SiriWave.prototype._draw=function(){this.run!==!1&&(this.phase=(this.phase+Math.PI*this.speed)%(2*Math.PI),this._clear(),this._drawLine(-2,"rgba("+this.color+",0.1)"),this._drawLine(-6,"rgba("+this.color+",0.2)"),this._drawLine(4,"rgba("+this.color+",0.4)"),this._drawLine(2,"rgba("+this.color+",0.6)"),this._drawLine(1,"rgba("+this.color+",1)",1.5),requestAnimationFrame(this._draw.bind(this)))},SiriWave.prototype.start=function(){this.phase=0,this.run=!0,this._draw()},SiriWave.prototype.stop=function(){this.phase=0,this.run=!1},SiriWave.prototype.setSpeed=function(a){this.speed=a},SiriWave.prototype.setNoise=SiriWave.prototype.setAmplitude=function(a){this.amplitude=Math.max(Math.min(a,1),0)},SiriWave9Curve.prototype.respawn=function(){this.amplitude=.3+.7*Math.random(),this.seed=Math.random(),this.open_class=0|2+3*Math.random()},SiriWave9Curve.prototype.equation=function(a){var b=this.tick,c=-1*Math.abs(Math.sin(b))*this.controller.amplitude*this.amplitude*this.controller.MAX*Math.pow(1/(1+Math.pow(this.open_class*a,2)),2);return Math.abs(c)<.001&&this.respawn(),c},SiriWave9Curve.prototype._draw=function(a){var b,c,d,e,f,g,h,i,j;for(this.tick+=this.controller.speed*(1-.5*Math.sin(this.seed*Math.PI)),b=this.controller.ctx,b.beginPath(),c=this.controller.width/2+(-this.controller.width/4+this.seed*(this.controller.width/2)),d=this.controller.height/2,h=-3;3>=h;)e=c+h*this.controller.width/4,f=d+a*this.equation(h),g=g||e,b.lineTo(e,f),h+=.01;i=Math.abs(this.equation(0)),j=b.createRadialGradient(c,d,1.15*i,c,d,.3*i),j.addColorStop(0,"rgba("+this.color.join(",")+",0.4)"),j.addColorStop(1,"rgba("+this.color.join(",")+",0.2)"),b.fillStyle=j,b.lineTo(g,d),b.closePath(),b.fill()},SiriWave9Curve.prototype.draw=function(){this._draw(-1),this._draw(1)},SiriWave9.prototype._clear=function(){this.ctx.globalCompositeOperation="destination-out",this.ctx.fillRect(0,0,this.width,this.height),this.ctx.globalCompositeOperation="lighter"},SiriWave9.prototype._draw=function(){if(this.run!==!1){this._clear();for(var a=0,b=this.curves.length;b>a;a++)this.curves[a].draw();requestAnimationFrame(this._draw.bind(this))}},SiriWave9.prototype.start=function(){this.tick=0,this.run=!0,this._draw()},SiriWave9.prototype.stop=function(){this.tick=0,this.run=!1},SiriWave9.prototype.COLORS=[[32,133,252],[94,252,169],[253,71,103]];