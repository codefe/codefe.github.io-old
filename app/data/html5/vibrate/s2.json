{"sta":1,"data":{"subTitle":"振动API基础应用","content":"<p>这个<code>navigator.vibrate</code>函数可以接受一个数字参数，也可以接受一个数字数组，当使用数组参数时，奇数位的数值是震动秒数，偶数位为等待秒数。&nbsp;</p><blockquote>&nbsp;// 振动1秒&nbsp;<br>navigator.vibrate(1000);<br>\n<br>// 振动多次<br>\n// 参数分别是震动3秒，等待2秒，然后振动1秒<br>\nnavigator.vibrate([3000, 2000, 1000]);</blockquote><p>如果想停止震动，你只需要向navigator.vibrate方法里传入0，或一个空数组：</p><blockquote>/ 停止振动<br>\nnavigator.vibrate(0);<br>\nnavigator.vibrate([]);</blockquote><p>需要提醒的是，对navigator.vibrate方法的调用并不会引起手机循环振动；当参数是一个数字时，振动之后发生一次，然后就停止下来。当参数是数组时，震动会按数组里的值震动，然后就停止振动。</p><p>我们可以简单的使用setInterval 和 clearInterval 方法产生让手机持续震动的效果：</p><pre><code>// 持续震动&nbsp;<br>var vibrateInterval;\n\n// Starts vibration at passed in level\nfunction startVibrate(duration) {\n\tnavigator.vibrate(duration);\n}\n\n// Stops vibration\nfunction stopVibrate() {\n\t// Clear interval and stop persistent vibrating \n\tif(vibrateInterval) clearInterval(vibrateInterval);\n\tnavigator.vibrate(0);\n}\n\n// Start persistent vibration at given duration and interval\n// Assumes a number value is given\nfunction startPeristentVibrate(duration, interval) {\n\tvibrateInterval = setInterval(function() {\n\t\tstartVibrate(duration);\n\t}, interval);\n}</code></pre><p>上面的这段代码只是针对振动参数是一个数字的情况，如果参数是数组，你还需要计算一下它的总共持续时间，然后根据它的特征来进行循环。</p>"}}