{"sta":1,"data":{"subTitle":"使用indexOf等在数组中查找和替换","content":"<p>使用slice、replace、indexOf等等在JavaScript的数组中进行元素的查找和替换，感兴趣的朋友可以学习下&nbsp;</p><pre><code>&lt;html&gt; \n&lt;head&gt; \n&lt;title&gt; Extend JavaScript Array Method &lt;/title&gt; \n&lt;script language=\"javascript\"&gt; \n&lt;!-- \nArray.prototype.indexOf=function(substr,start){ \nvar ta,rt,d='\\0'; \nif(start!=null){ta=this.slice(start);rt=start;}else{ta=this;rt=0;} \nvar str=d+ta.join(d)+d,t=str.indexOf(d+substr+d); \nif(t==-1)return -1;rt+=str.slice(0,t).replace(/[^\\0]/g,'').length; \nreturn rt; \n} \n\nArray.prototype.lastIndexOf=function(substr,start){ \nvar ta,rt,d='\\0'; \nif(start!=null){ta=this.slice(start);rt=start;}else{ta=this;rt=0;} \nta=ta.reverse();var str=d+ta.join(d)+d,t=str.indexOf(d+substr+d); \nif(t==-1)return -1;rt+=str.slice(t).replace(/[^\\0]/g,'').length-2; \nreturn rt; \n} \n\nArray.prototype.replace=function(reg,rpby){ \nvar ta=this.slice(0),d='\\0'; \nvar str=ta.join(d);str=str.replace(reg,rpby); \nreturn str.split(d); \n} \n\nArray.prototype.search=function(reg){ \nvar ta=this.slice(0),d='\\0',str=d+ta.join(d)+d,regstr=reg.toString(); \nreg=new RegExp(regstr.replace(/\\/((.|\\n)+)\\/.*/g,'\\\\0$1\\\\0'),regstr.slice(regstr.lastIndexOf('/')+1)); \nt=str.search(reg);if(t==-1)return -1;return str.slice(0,t).replace(/[^\\0]/g,'').length; \n} \n\nwindow.onload=function(){ \nvar a=new Array('aa1321321','b4323424b','cc345345','dd4654','dd4654','b4323424b'); \ndocument.getElementById('t1').value=a.toString(); \n//document.getElementById('t2').value=a.indexOf('cc345345'); \n//document.getElementById('t3').value=a.lastIndexOf('dd4654'); \ndocument.getElementById('t4').value=a.replace('b4323424b','*');//把第一个b4323424b替换成* \ndocument.getElementById('t5').value=a.search(/dd4654/);//未找到返回-1 \n}; \n//--&gt; \n&lt;/script&gt; \n&lt;style type=\"text/css\"&gt; \n&lt;!-- \ninput{width:600px} \n//--&gt; \n&lt;/style&gt; \n&lt;/head&gt; \n\n&lt;body&gt; \n&lt;table&gt; \n&lt;tr&gt;&lt;td&gt;数组a:&lt;/td&gt;&lt;td&gt;&lt;input id=\"t1\" type=\"text\" /&gt;&lt;/td&gt;&lt;/tr&gt; \n&lt;tr&gt;&lt;td&gt;a.indexOf('cc345345'):&lt;/td&gt;&lt;td&gt;&lt;input id=\"t2\" type=\"text\" /&gt;&lt;/td&gt;&lt;/tr&gt; \n&lt;tr&gt;&lt;td&gt;a.lastIndexOf('dd4654'):&lt;/td&gt;&lt;td&gt;&lt;input id=\"t3\" type=\"text\" /&gt;&lt;/td&gt;&lt;/tr&gt; \n&lt;tr&gt;&lt;td&gt;a.replace(/\\d/g,'*'):&lt;/td&gt;&lt;td&gt;&lt;input id=\"t4\" type=\"text\" /&gt;&lt;/td&gt;&lt;/tr&gt; \n&lt;tr&gt;&lt;td&gt;a.search(/dd4654/):&lt;/td&gt;&lt;td&gt;&lt;input id=\"t5\" type=\"text\" /&gt;&lt;/td&gt;&lt;/tr&gt; \n&lt;/table&gt; \n&lt;/body&gt; \n&lt;/html&gt;</code></pre><p><br></p><p>&nbsp;<br></p>"}}