{"sta":1,"data":{"subTitle":"服务端优化","content":"<ul><li>避免404。<ul><li>更改404错误响应页面可以改进用户体验，但是同样也会浪费服务器资源。</li><li>指向外部<code>JAVASCRIPT</code>的链接出现问题并返回404代码。<ul><li>这种加载会破坏并行加载。</li><li>其次浏览器会把试图在返回的404响应内容中找到可能有用的部分当作JavaScript代码来执行。</li></ul></li></ul></li><li>删除重复的<code>JAVASCRIPT</code>和<code>CSS</code>。<ul><li>重复调用脚本缺点。<ul><li>增加额外的HTTP请求。</li><li>多次运算也会浪费时间。在IE和Firefox中不管脚本是否可缓存，它们都存在重复运算<code>JAVASCRIPT</code>的问题。</li></ul></li></ul></li><li><code>ETags</code>配置<code>Entity</code>标签。<ul><li><code>ETags</code>用来判断浏览器缓存里的元素是否和原来服务器上的一致。<ul><li>与<code>last-modified date</code>相比更灵活。 &gt;如某个文件在1秒内修改了10次，<code>ETags</code>可以综合<code>Inode</code>(文件的索引节点<code>inode</code>数)，<code>MTime</code>(修改时间)和<code>Size</code>来精准的进行判断，避开<code>UNIX</code>记录<code>MTime</code>只能精确到秒的问题。服务器集群使用，可取后两个参数。使用<code>ETags</code>减少<code>Web</code>应用带宽和负载</li></ul></li></ul></li><li>权衡DNS查找次数<ul><li>减少主机名可以节省响应时间。但同时也会减少页面中并行下载的数量。<ul><li><code>IE</code>浏览器在同一时刻只能从同一域名下载两个文件。当在一个页面显示多张图片时，<code>IE</code>用户的图片下载速度就会受到影响。</li></ul></li></ul></li><li>通过Keep-alive机制减少TCP连接。</li><li>通过CDN减少延时。</li><li>平行处理请求（参考BigPipe）。</li><li>通过合并文件或者Image Sprites减少HTTP请求。</li><li>减少重定向（ HTTP 301和40x/50x）。</li></ul>"}}