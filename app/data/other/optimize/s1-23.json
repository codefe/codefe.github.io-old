{"sta":1,"data":{"subTitle":"性能测试工具","content":"<ul><li><p>js性能优化和内存泄露问题及检测分析工具</p><ul><li><p>性能优化ajax工具<code>diviefirebug</code></p></li><li><p><a href=\"http://developer.yahoo.com/yslow/%20%22Google%22\">web性能分析工具YSlow</a></p><ul><li><code>performance</code>性能评估打分，右击箭头可看到改进建议。</li><li><code>stats</code>缓存状态分析，传输内容分析。</li><li><code>components</code>所有加载内容分析，可以查看传输速度，找出页面访问慢的瓶颈。</li><li><code>tools</code>可以查看js和css，并打印页面评估报告。</li></ul></li><li><p>内存泄露检测工具<code>sIEve</code></p><ul><li><p><code>sIEve</code>是基于<code>IE</code>的内存泄露检测工具，需要下载运行，可以查看dom孤立节点和内存泄露及内存使用情况。</p><ol><li><p>列出当前页面内所有dom节点的基本信息(html id style 等)</p></li><li><p>页面内所有dom节点的高级信息 (内存占用,数量,节点的引用)</p></li><li><p>可以查找出页面中的孤立节点</p></li><li><p>可以查找出页面中的循环引用</p></li><li><p>可以查找出页面中产生内存泄露的节点</p></li></ol></li></ul></li><li><p>内存泄露提示工具<code>leak monitor</code></p><ul><li><code>leak monitor</code>在安装后，当离开一个页面时，比如关闭窗口，如果页面有内存泄露，会弹出一个文本框进行即时提示。</li></ul></li><li><p>代码压缩工具</p><ul><li><p>YUI压缩工具</p></li><li><p>Dean Edwards Packer</p></li><li><p>JSMin</p></li><li><p><code>Blink/Webkit</code>浏览器</p></li><li><p>在<code>Blink/Webkit</code>浏览器中（<code>Chrome</code>,&nbsp;<code>Safari</code>,&nbsp;<code>Opera</code>），我们可以借助其中的<code>Developer Tools</code>的<code>Profiles</code>工具来对我们的程序进行内存检查。</p><pre><code><span>Developer Tools - Profiles</span>\n</code></pre></li></ul></li></ul></li><li><p><code>Node.js</code>中的内存检查</p><ul><li><p>在<code>Node.js</code>中，我们可以使用<code>node-heapdump</code>和<code>node-memwatch</code>模块进​​行内存检查。</p><pre><code><span>var</span> heapdump = <span>require</span>(<span>'heapdump'</span>);\n<span>var</span> fs = <span>require</span>(<span>'fs'</span>);\n<span>var</span> path = <span>require</span>(<span>'path'</span>);\nfs.writeFileSync(path.<span>join</span>(__dirname, <span>'app.pid'</span>), process.pid);\n</code></pre><p>在业务代码中引入<code>node-heapdump</code>之后，我们需要在某个运行时期，向<code>Node.js</code>进程发送<code>SIGUSR2</code>信号，让<code>node-heapdump</code>抓拍一份堆内存的快照。</p><pre><code><span>$</span><span> <span>kill</span> -USR2 (cat app.pid)</span>\n</code></pre><p>这样在文件目录下会有一个以<code>heapdump-&lt;sec&gt;.&lt;usec&gt;.heapsnapshot</code>格式命名的快照文件，我们可以使用浏览器的<code>Developer Tools</code>中的<code>Profiles</code>工具将其打开，并进行检查。</p></li></ul></li><li><p>分析浏览器提供的Waterfall图片来思考优化入口。</p></li><li><p>新的测试手段（Navigation, Resource, 和User timing。</p></li></ul>"}}